# =========================
# App
# =========================
PORT=3000
# URL pública onde o checkout roda (usada pelo App Proxy e redirecionamentos)
CHECKOUT_BASE_URL=https://checkout.pagueleve.com

# Força que o valor sempre venha do carrinho (sem fallback de R$10)
ENFORCE_TOTAL_CENTS=1

# Ambiente (opcional): development | production
NODE_ENV=production

# =========================
# Pagar.me (Core v5)
# =========================
# >>> NUNCA commitar a chave real; use só no .env do Render
PAGARME_API_KEY=sk_live_REPLACE_ME

# Descriptor do extrato (até ~13 chars, sem acento)
STATEMENT_DESCRIPTOR=PAGUELEVE

# Tempo de expiração do Pix em segundos (default do código: 1800 = 30min)
PIX_EXPIRES_IN=1800

# Dias para vencimento do boleto (default do código: 3)
BOLETO_DAYS=3

# =========================
# Shopify (opcional — use se tiver App/Proxy)
# =========================
SHOPIFY_STORE_DOMAIN=yourshop.myshopify.com
SHOPIFY_API_VERSION=2024-04
SHOPIFY_API_TOKEN=shpat_REPLACE_ME

# App Proxy (se usar o recurso de proxy do Shopify)
APP_PROXY_PREFIX=apps/cobrax
APP_PROXY_SUBPATH=checkout

# =========================
# Webhook (opcional)
# =========================
# Se quiser validar assinatura dos webhooks do Pagar.me
PAGARME_WEBHOOK_SECRET=replace_me
PAGARME_WEBHOOK_HEADER=X-Hub-Signature
PAGARME_WEBHOOK_ALGO=sha256

# =========================
# CORS / Allowlist (opcional, mas recomendável)
# =========================
# Origens explicitamente permitidas além do *.myshopify.com
# Separe por vírgula. Ex.: https://pagueleve.com,https://checkout.pagueleve.com
ALLOWED_ORIGINS=https://pagueleve.com,https://checkout.pagueleve.com

# =========================
# Logs / Rate limit (opcional)
# =========================
# Nível de log: combined | tiny | dev (morgan)
LOG_FORMAT=combined

# Limites globais e do /pay (por minuto)
RATE_LIMIT_GLOBAL=300
RATE_LIMIT_PAY=60
